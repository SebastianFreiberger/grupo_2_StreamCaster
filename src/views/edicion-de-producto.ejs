<html lang="en">
<!-- Head -->
<%- include('partials/head') %> 
<body class="body-crear">
    <!-- Header -->
    <%- include('partials/header') %> 
        <h1 class="titulo-form-crear">
        Editar producto
        </h1>
    <main class="main-crear">
        <!-- título del formulario "Crear producto-->

        <section class="section-crear">
            <form action="/products/edicion/<%= product.id %>?_method=put" method="POST" class="form-crear">
                <div class="campo-crear">
                    <label for="nombre">Nombre del producto</label>
                    <input class="nombre-producto" type="text" id="nombre" name="nombre" value="<%= product.nombre %>">
                    <% if(locals.errores && errores.nombre) { %>
                        <p class="errorsMsg"><%= errores.nombre.msg %></p>
                    <% } %>
                </div>
                <div class="campo-crear">
                    <label for="marcas">Marca del producto</label>                                        
                    <select name="marcas" id="marcas">
                        <% for (let i = 0; i < marcas.length; i++) { %>                            
                            <option <% if(marcas.nombre == marcas[i].nombre){ %>
                                <%= 'selected' %>
                            <% } %>                            
                             value="<%=marcas[i].id%>"><%= marcas[i].nombre %></option>
                            <% } %> 
                    </select>                    
                </div>
                <div class="campo-crear">
                    <label for="pesoKg">Peso del producto</label>
                    <input class="nombre-producto" type="number" id="pesoKg" name="pesoKg" value="<%= product.pesoKg %>">
                    <% if(locals.errores && errores.pesoKg) { %>
                        <p class="errorsMsg"><%= errores.pesoKg.msg %></p>
                    <% } %>
                </div>  
                <div class="campo-crear">
                    <label for="precio">Precio del producto</label>
                    <input class="nombre-producto" type="number" id="precio" name="precio" value="<%= product.precio %>">
                    <% if(locals.errores && errores.precio) { %>
                        <p class="errorsMsg"><%= errores.precio.msg %></p>
                    <% } %>
                </div>
                <div class="campo-crear">
                    <label for="precio">Descuento del producto</label>
                    <input class="nombre-producto" type="number" id="precio" name="descuento" value="<%= product.descuento%>">
                    <% if(locals.errores && errores.descuento) { %>
                        <p class="errorsMsg"><%= errores.descuento.msg %></p>
                    <% } %>
                </div>
                <!-- <div class="campo-crear">
                    <label for="img">Subir imágenes del producto:</label>
                    <input class="subir-imagenes" type="file" id="img" name="imagen" placeholder="Seleccionar imágenes" value="<%= locals.oldData ? oldData.imagen: null %>">
                    <% if(locals.errores && errores.imagen) { %>
                        <p class="errorsMsg"><%= errores.imagen.msg %></p>
                    <% } %>
                </div> -->
                <div class="campo-crear">
                    <label for="caract">Características principales</label>
                    <textarea id="caract" name="caract" ><%= product.caract %></textarea>
                    <% if(locals.errores && errores.caract) { %>
                        <p class="errorsMsg"><%= errores.caract.msg %></p>
                    <% } %>
                </div>
                <!-- Características principales es lo que va al costado de la imagen en la versión de escritorio y descripción detallada es lo que va abajo -->
                <div class="campo-crear">
                    <label for="descripcion">Descripción detallada</label>
                    <textarea id="descripcion" name="descripcion"><%= product.descripcion %></textarea>
                    <% if(locals.errores && errores.descripcion) { %>
                        <p class="errorsMsg"><%= errores.descripcion.msg %></p>
                    <% } %>
                </div>
                <!-- botón "Crear producto" -->
          <div class="boton">
            <button type="submit" class="button-crear">
              Guardar edición
            </button>
          </div>
            </form>
            <form action="/products/delete/<%= product.id %>" method="POST">
                <button type="submit" class="button-crear">
                    Eliminar
                </button>
            </form>
        </section>        
    </main>
    <!-- Footer -->
    <%- include('partials/footer') %>
    <script src="/public/js/validacionesFront.js" type="text/javascript"></script>
</body>
</html>